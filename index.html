<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <title>SERVIÇAL</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Seu garçom pessoal">
    <meta name="keywords" content="HTML, CSS, JavaScript, Webservice, SERVIÇAL">
    <meta name="author" content="Beto">

    <meta name="theme-color" content="#10507F">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">

    <meta name="application-name" content="SERVIÇAL">
    <meta name="msapplication-navbutton-color" content="#10507F">
    <meta name="msapplication-TileColor" content="#10507F">
    <meta name="msapplication-TileImage" content="img/ico/ico_144.png">
    <meta name="msapplication-tooltip" content="SERVIÇAL">
    <meta name="msapplication-starturl" content=".">
    <meta name="msapplication-tap-highlight" content="no">

    <meta name="apple-mobile-web-app-title" content="SERVIÇAL">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar" content="#10507F">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="apple-touch-icon" href="img/ico/ico_96.png">
    <link rel="apple-touch-startup-image" href="https://via.placeholder.com/320x480.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="2048x2732" href="https://via.placeholder.com/2048x2732.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="1668x2224" href="https://via.placeholder.com/1668x2224.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="1536x2048" href="https://via.placeholder.com/1536x2048.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="1125x2436" href="https://via.placeholder.com/1125x2436.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="1242x2208" href="https://via.placeholder.com/1242x2208.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="750x1334"  href="https://via.placeholder.com/750x1334.png/10507F/ffffff?text=SERVIÇAL">
    <link rel="apple-touch-startup-image" sizes="640x1136"  href="https://via.placeholder.com/640x1136.png/10507F/ffffff?text=SERVIÇAL">

    <link rel="icon" href="favicon.ico">
    <link rel="shortcut icon" href="favicon.ico">

    <link rel="manifest" href="manifest.json">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- QR Code Create -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
    <script src="js/qrcodeCreate.js"></script>

    <!-- QR Code Read -->
    <link rel="stylesheet" href="css/qrcode.css">
    <script src="js/qrcodelib.js"></script>
    <script src="js/webcodecamjs.js"></script>


    <script src="app.js"></script>
</head>
<body>
  <!-- Menu superior -->
  <nav class="navbar navbar-dark bg-dark navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="#" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
        <img src="img/ico/ico_96.png" alt="" width="24" height="24" class="d-inline-block align-text-top" style="margin-right: 0.5em;">
        SERVIÇAL
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Menu de opções</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="pages/pedidos.html">Pedidos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="teste.html">EM TESTE</a>
          </li>
          <li>
            <div class="d-grid gap-2 col-6 mx-auto">
              <button type="button" id="btnInstalar" class="btn btn-outline-primary" style="display: none;">Instalar</button>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sobre o Aplicativo -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel">SERVIÇAL</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <p>'SERVIÇAL' é o aplicativo que notifica, imediatamente, o responsável para prepar o seu pedido, te mantendo atualizado.</p>
      <p>É ótimo para restaurantes, bares, cafés, hotéis, pousadas, eventos coquetéis e muito mais.</p>
      <div id="qrcode" style="text-align: center"></div>
    </div>
  </div>

  <!-- conteúdo -->
  <div style="text-align: center;">
    <div class="well" style="position: relative;display: inline-block;">
      <canvas width="320" height="240" id="webcodecam-canvas"></canvas>
      <div class="scanner-laser laser-rightBottom" style="opacity: 0.5;"></div>
      <div class="scanner-laser laser-rightTop" style="opacity: 0.5;"></div>
      <div class="scanner-laser laser-leftBottom" style="opacity: 0.5;"></div>
      <div class="scanner-laser laser-leftTop" style="opacity: 0.5;"></div>
      <div class="scanner-laser webcamChange" id="webcamChange"></div>
    </div>
    <select style="display: none;"></select>
    <h6>Escaneie o QRCode do Local onde deseja ser servido</h6>
    <div id="resultado"></div>
  </div>

  <script type="text/javascript">
    var decoder = new WebCodeCamJS("#webcodecam-canvas").buildSelectMenu('select', 'environment|back').init().play();
    
    document.querySelector('select').addEventListener('change', function(){
        decoder.stop().play();
    });

    document.getElementById('webcamChange').addEventListener('click ontouchstart', function() {
        var opts = document.querySelector('select').options.length;
        var opt = document.querySelector('select').selectedIndex + 1;

        if(opt+1 > opts) {
            opt = 1;
        } else {
            opt += 1;
        }
        document.querySelector('select').selectedIndex = opt - 1;

        var event = document.createEvent('MouseEvents');
        event.initMouseEvent('change', true, true,
            document.querySelector('select').ownerDocument.defaultView,
            0, 0, 0, 0, 0, false, false, false, false, 0, null);

        document.querySelector('select').dispatchEvent(event);
    });
  </script>
</body>
</html>